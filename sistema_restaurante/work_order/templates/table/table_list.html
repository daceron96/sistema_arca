{% extends 'core/base.html' %}
{% load static %}
{% block title %}Lista de pedidos{% endblock title %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-10">
        <h1 class="text-center"><i class="bi bi-journal-bookmark-fill"></i> Lista de mesas</h1>
    </div>
    <div class="col-md-2">
        <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modal_table"  onclick='clean_modal_table()'>
			<i class="bi bi-file-earmark-plus"></i>
			AÃ±adir Mesa
		</button>
    </div>
</div>
<div class="row mt-4" id='table_list'> 
    {% for table in object_list %}
    <div class="col-lg-2 text-center mb-4">
        <div class="card" >
            <svg class="bd-placeholder-img card-img-top" width="100%" height="100" xmlns="http://www.w3.org/2000/svg"
                role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
                <title>Placeholder</title>
                <rect width="100%" height="100%" fill="#55595c" />
            </svg>
            {% if table.status %}
            {% for order in order_list %}
            {% if order.table == table %}

            <div class="card-body bg-warning " id='table_{{table.table_number}}'>
                <a href='/' class=" link-light" onclick='get_order({{order.id}})' style="text-decoration:none" data-bs-toggle="modal" data-bs-target="#modal_description_order"><b>Mesa {{table.table_number}}</b></a>
            </div>
            {% endif %}
            {% endfor%}
            {% else %}
            <div class="card-body bg-primary " id='table_{{table.table_number}}'>
                <a href="{% url 'order:order' table.table_number %}" class=" link-light" style="text-decoration:none" ><b>Mesa {{table.table_number}}</b></a>
            </div>
            <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                <button type="button" class="btn btn-outline-danger border border-light"><i class="bi bi-trash-fill"></i></button>
                <button type="button" class="btn btn-outline-info border border-light"><i class="bi bi-pencil-square"></i></button>
            </div>
            {% endif%}
        </div>
       
    </div>

    {% endfor %}
    {{orders}}
</div>
{% include 'table/modal_order_detail.html' %}
{% include 'table/table_form.html' %}
{% endblock content %}
{% block js%}
<script src="{% static '/work_order/js/table_list.js' %}"></script>

{% endblock %}